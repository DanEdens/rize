
<!DOCTYPE HTML>
<html lang="en" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Page Operations Â· Rize</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-prism/prism.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-theme-vuejs-2/vue.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="interaction.html" />
    
    
    <link rel="prev" href="getting-started.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                



<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="./">
            
                <a href="./">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="getting-started.html">
            
                <a href="getting-started.html">
            
                    
                    Getting Started
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.3" data-path="page.html">
            
                <a href="page.html">
            
                    
                    Page Operations
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="interaction.html">
            
                <a href="interaction.html">
            
                    
                    Interaction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="find-elements.html">
            
                <a href="find-elements.html">
            
                    
                    Find Elements
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="testing.html">
            
                <a href="testing.html">
            
                    
                    Testing
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7" data-path="retrieval.html">
            
                <a href="retrieval.html">
            
                    
                    Retrieving Data
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8" data-path="faq.html">
            
                <a href="faq.html">
            
                    
                    FAQ
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9" >
            
                <a target="_blank" href="https://rize.js.org/api/modules/_index_.html">
            
                    
                    API
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.9.1" >
            
                <a target="_blank" href="https://rize.js.org/api/classes/_index_.rize.html">
            
                    
                    Available methods
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.2" >
            
                <a target="_blank" href="https://rize.js.org/api/interfaces/_index_.rize.rizeoptions.html">
            
                    
                    Options
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>



                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                

                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="." >Page Operations</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="page-operations">Page Operations</h1>
<p>Rize provides some basic operations for page such as navigation and authentication.</p>
<h2 id="navigation">Navigation</h2>
<p>The most common operation is visit a page by using <a href="https://rize.js.org/api/classes/_index_.rize.html#goto" target="_blank"><code>goto</code></a> method.</p>
<pre class="language-"><code class="lang-javascript">rize<span class="token punctuation">.</span><span class="token function">goto</span><span class="token punctuation">(</span><span class="token string">&apos;http://example.com&apos;</span><span class="token punctuation">)</span>
</code></pre>
<p>And, you can go forward, go back and refresh current page:</p>
<pre class="language-"><code class="lang-javascript">rize<span class="token punctuation">.</span><span class="token function">forward</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
rize<span class="token punctuation">.</span><span class="token function">back</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
rize<span class="token punctuation">.</span><span class="token function">refresh</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
<h2 id="page-configuration">Page configuration</h2>
<p>You can specify user agent string:</p>
<pre class="language-"><code class="lang-javascript">rize<span class="token punctuation">.</span><span class="token function">withUserAgent</span><span class="token punctuation">(</span><span class="token comment">/* user agent */</span><span class="token punctuation">)</span>
</code></pre>
<p>HTTP authentication:</p>
<pre class="language-"><code class="lang-javascript">rize<span class="token punctuation">.</span><span class="token function">withAuth</span><span class="token punctuation">(</span><span class="token string">&apos;username&apos;</span><span class="token punctuation">,</span> <span class="token string">&apos;password&apos;</span><span class="token punctuation">)</span>
</code></pre>
<p>HTTP headers:</p>
<pre class="language-"><code class="lang-javascript">rize<span class="token punctuation">.</span><span class="token function">withHeaders</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token comment">/* extra headers */</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre>
<h2 id="evaluating-function-in-page">Evaluating function in page</h2>
<h3 id="basic-usage">Basic usage</h3>
<p>You can evaluating function or expression in <em>browser</em> context. Note that it is in browser not in Node.js, so if you want to do something in Node.js environment, please use <a href="https://rize.js.org/api/classes/_index_.rize.html#execute" target="_blank"><code>execute</code></a> method.</p>
<pre class="language-"><code class="lang-javascript">rize<span class="token punctuation">.</span><span class="token function">evaluate</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&apos;output in browser not node.js&apos;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre>
<p>You can pass a string and it will be treated as an expression:</p>
<pre class="language-"><code class="lang-javascript">rize<span class="token punctuation">.</span><span class="token function">evaluate</span><span class="token punctuation">(</span><span class="token string">&apos;console.log(&quot;output in browser not node.js&quot;)&apos;</span><span class="token punctuation">)</span>
</code></pre>
<p>Beginners may make a mistake to visit variables directly:</p>
<pre class="language-"><code class="lang-javascript"><span class="token comment">// Don&apos;t do like this!</span>
<span class="token keyword">const</span> greeting <span class="token operator">=</span> <span class="token string">&apos;hi&apos;</span>
rize<span class="token punctuation">.</span><span class="token function">evaluate</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>greeting<span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre>
<p>As mentioned above, the function or expression will be evaluated in browser context. However, the variable <code>greeting</code> was not existed in browser context. (Unless the page really defined it or you have defined it.) So the code above will throw a <code>ReferenceError</code>.</p>
<p>The solution is write a function with parameter(s) and pass argument(s) manually like this:</p>
<pre class="language-"><code class="lang-javascript"><span class="token keyword">const</span> greeting <span class="token operator">=</span> <span class="token string">&apos;hi&apos;</span>
rize<span class="token punctuation">.</span><span class="token function">evaluate</span><span class="token punctuation">(</span>message <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>message<span class="token punctuation">)</span><span class="token punctuation">,</span> greeting<span class="token punctuation">)</span>  <span class="token comment">// Works!</span>
</code></pre>
<h3 id="retrieve-return-value">Retrieve return value</h3>
<p>To keep the API chainable, the <a href="https://rize.js.org/api/classes/_index_.rize.html#evaluate" target="_blank"><code>evaluate</code></a> method doesn&apos;t return the value of your function or expression and it will return the current <code>Rize</code> instance, though your function or expression will return something.</p>
<p>There is another method called <a href="https://rize.js.org/api/classes/_index_.rize.html#evaluatewithreturn" target="_blank"><code>evaluateWithReturn</code></a> and it can let you retrieve the return value(wrapped with <code>Promise</code>).</p>
<pre class="language-"><code class="lang-javascript"><span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> rize <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Rize</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> byExpr <span class="token operator">=</span> <span class="token keyword">await</span> rize<span class="token punctuation">.</span><span class="token function">evaluateWithReturn</span><span class="token punctuation">(</span><span class="token string">&apos;document.title&apos;</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> byFunc <span class="token operator">=</span> <span class="token keyword">await</span> rize<span class="token punctuation">.</span><span class="token function">evaluateWithReturn</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> document<span class="token punctuation">.</span>title<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
<h3 id="difference-between-evaluate-method-and-execute-method">Difference between <code>evaluate</code> method and <code>execute</code> method</h3>
<p>TL;DR: The code in <code>evaluate</code> method will be evaluate in browser while the code in <code>execute</code> method will be execute in Node.js.</p>
<p>When you use <code>evaluate</code> method, your function will be stringify (by calling <code>toString</code> method) and your arguments will be serialized. So if your arguments cannot be serialized some errors will be occurred.</p>
<p>After stringified your function (expression will be passed as string so no need to do that) and serialized your arguments, those code will be sent to browser and evaluated in browser. That means your code can visit variables in browser context (such as <code>window</code> and <code>document</code>).</p>
<p>And the <a href="https://rize.js.org/api/classes/_index_.rize.html#execute" target="_blank"><code>execute</code></a> method just give you a chance to do something after last operation. All the code will be execute in Node.js. For example, we can log something to a file on the disk:</p>
<pre class="language-"><code class="lang-javascript"><span class="token keyword">const</span> fs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&apos;fs&apos;</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> rize <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Rize</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
rize
  <span class="token punctuation">.</span><span class="token function">goto</span><span class="token punctuation">(</span><span class="token string">&apos;http://example.com&apos;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> fs<span class="token punctuation">.</span><span class="token function">writeFileSync</span><span class="token punctuation">(</span><span class="token string">&apos;operations.log&apos;</span><span class="token punctuation">,</span> <span class="token string">&apos;visiting...&apos;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre>
<p>You can check out more info by reading documentation of <a href="https://rize.js.org/api/classes/_index_.rize.html#execute" target="_blank"><code>execute</code></a> method.</p>
<h2 id="adding-tags">Adding tags</h2>
<p>You can add <code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span></code> or <code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span></code> tag to current page, just like injecting some JavaScript code or CSS code.</p>
<p>To add <code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span></code> tag, please use <a href="https://rize.js.org/api/classes/_index_.rize.html#addscripttag" target="_blank"><code>addScriptTag</code></a> method; to add <code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span></code> tag, please use <a href="https://rize.js.org/api/classes/_index_.rize.html#addstyletag" target="_blank"><code>addStyleTag</code></a> method.</p>
<p>These two method have the same function signature. The first parameter <code>type</code> can <strong>only</strong> be <code>url</code>, <code>path</code> or <code>content</code>. The second parameter is <code>value</code>, which decided by the first parameter.</p>
<ul>
<li>If the first parameter <code>type</code> is <code>url</code>, you should give a URL to a remote JS/CSS file. </li>
<li>If the first parameter <code>type</code> is <code>path</code>, you should give a path to a local JS/CSS file.</li>
<li>If the first parameter <code>type</code> is <code>content</code>, you should give valid JavaScript code/CSS code.</li>
</ul>
<blockquote>
<p>Unless you have specify an old version Chrome/Chromium, you can feel free to use latest ES features.</p>
</blockquote>
<h2 id="multiple-pages">Multiple pages</h2>
<p>Rize supports multiple pages (aka tabs).</p>
<p>You should understand something when using multiple pages in Rize. When you launched puppeteer, there will be two pages. One is created by puppeteer by default and the another one is created by Rize. This is useful if you aren&apos;t going to use multiple pages. (You don&apos;t need to open a new page manually.)</p>
<h3 id="open-a-new-page">Open a new page</h3>
<p>To open a new page, just call the <a href="https://rize.js.org/api/classes/_index_.rize.html#newpage" target="_blank"><code>newPage</code></a> method.</p>
<pre class="language-"><code class="lang-javascript">rize<span class="token punctuation">.</span><span class="token function">newPage</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
<p>The <a href="https://rize.js.org/api/classes/_index_.rize.html#newpage" target="_blank"><code>newPage</code></a> receive two arguments (both are optional). The first one is <code>name</code>. You can use this to identify different pages and it is useful when you want to switch page.</p>
<p>The second one is <code>options</code> which has two options.</p>
<p>The <code>force</code> option is used to replace the old page with the same <code>name</code> you gave. If <code>force</code> is true, when you open a new page with duplicated name, existing page will be replaced with this new one. Otherwise, the existing page will be kept and no new page will be created.</p>
<p>The <code>stayCurrent</code> option is used to determine if stay in current page after new page was created. If <code>stayCurrent</code> is true, after opened a new page, the active page won&apos;t be changed. Otherwise, the active page will be switched to the new page.</p>
<h3 id="close-a-page">Close a page</h3>
<p>To close the page, just call <a href="https://rize.js.org/api/classes/_index_.rize.html#closepage" target="_blank"><code>closePage</code></a> method.</p>
<pre class="language-"><code class="lang-javascript">rize<span class="token punctuation">.</span><span class="token function">closePage</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
<p>Or you can give the name of the page you want to close:</p>
<pre class="language-"><code class="lang-javascript">rize<span class="token punctuation">.</span><span class="token function">closePage</span><span class="token punctuation">(</span><span class="token string">&apos;page1&apos;</span><span class="token punctuation">)</span>
</code></pre>
<h3 id="switch-to-another-page">Switch to another page</h3>
<p>The <a href="https://rize.js.org/api/classes/_index_.rize.html#switchpage" target="_blank"><code>switchPage</code></a> receive one argument and it can be a string or a number.</p>
<p>When it is a string, it means <code>name</code>. It is the name of the page you want to switch to.</p>
<p>When it is a number, it will find the page by index in the internal array of pages and switch to it.</p>
<pre class="language-"><code class="lang-javascript">rize<span class="token punctuation">.</span><span class="token function">switchPage</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
rize<span class="token punctuation">.</span><span class="token function">switchPage</span><span class="token punctuation">(</span><span class="token string">&apos;page0&apos;</span><span class="token punctuation">)</span>
</code></pre>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                

            </div>

            
                
                <a href="getting-started.html" class="navigation navigation-prev " aria-label="Previous page: Getting Started">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="interaction.html" class="navigation navigation-next " aria-label="Next page: Interaction">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Page Operations","level":"1.3","depth":1,"next":{"title":"Interaction","level":"1.4","depth":1,"path":"interaction.md","ref":"./interaction.md","articles":[]},"previous":{"title":"Getting Started","level":"1.2","depth":1,"path":"getting-started.md","ref":"./getting-started.md","articles":[]},"dir":"ltr"},"config":{"plugins":["prism","theme-vuejs-2","github","edit-link","highlight"],"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"prism":{},"github":{"url":"https://github.com/g-plane/rize/"},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"theme-vuejs-2":{},"fontsettings":{"theme":"white","family":"sans","size":2},"highlight":{},"sharing":{"facebook":false,"twitter":false,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"edit-link":{"label":"Edit This Page","base":"https://github.com/g-plane/rize/tree/master/docs"},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"theme":"default","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"title":"Rize","language":"en","links":{"sharing":{"facebook":false,"twitter":false}},"gitbook":"*"},"file":{"path":"page.md","mtime":"2018-08-23T01:15:02.000Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2018-08-23T01:17:51.307Z"},"basePath":".","book":{"language":"en"}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-github/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-edit-link/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

