(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{194:function(t,a,s){"use strict";s.r(a);var e=s(6),n=Object(e.a)({},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"页面操作"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#页面操作","aria-hidden":"true"}},[t._v("#")]),t._v(" 页面操作")]),t._v(" "),s("p",[t._v("Rize 提供了一些基本的页面操作，例如导航和 HTTP 认证。")]),t._v(" "),s("h2",{attrs:{id:"导航"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#导航","aria-hidden":"true"}},[t._v("#")]),t._v(" 导航")]),t._v(" "),s("p",[t._v("最常用的操作是通过 "),s("a",{attrs:{href:"https://rize.js.org/api/classes/_index_.rize.html#goto",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("goto")]),s("OutboundLink")],1),t._v(" 方法来访问一个页面。")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("rize"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("goto")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'http://example.com'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("p",[t._v("您可以前进、后退或刷新当前页面：")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("rize"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("forward")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nrize"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("back")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nrize"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("refresh")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("h2",{attrs:{id:"页面配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#页面配置","aria-hidden":"true"}},[t._v("#")]),t._v(" 页面配置")]),t._v(" "),s("p",[t._v("您可以指定 user agent：")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("rize"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("withUserAgent")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* user agent */")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("p",[t._v("HTTP 认证：")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("rize"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("withAuth")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'username'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'password'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("p",[t._v("修改 HTTP 头部：")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("rize"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("withHeaders")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* 额外的头部信息 */")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("h2",{attrs:{id:"在页面中执行函数"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#在页面中执行函数","aria-hidden":"true"}},[t._v("#")]),t._v(" 在页面中执行函数")]),t._v(" "),s("h3",{attrs:{id:"基本用法"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#基本用法","aria-hidden":"true"}},[t._v("#")]),t._v(" 基本用法")]),t._v(" "),s("p",[t._v("您可以在"),s("em",[t._v("浏览器")]),t._v("环境中执行函数或表达式。注意是浏览器而不是在 Node.js 中。因此如果您想在 Node.js 环境中执行什么，请使用 "),s("a",{attrs:{href:"https://rize.js.org/api/classes/_index_.rize.html#execute",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("execute")]),s("OutboundLink")],1),t._v(" 方法。")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("rize"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("evaluate")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'output in browser not node.js'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("p",[t._v("您可以传递一个字符串，它将会被当成表达式来执行：")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("rize"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("evaluate")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'console.log(\"output in browser not node.js\")'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("p",[t._v("初学者可能会犯这样的错误，就是直接访问外部变量：")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 别这么干！")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" greeting "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'hi'")]),t._v("\nrize"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("evaluate")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("greeting"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("p",[t._v("就像上面所说的，函数或表达式会在浏览器中执行。然而，变量 "),s("code",[t._v("greeting")]),t._v(" 并不存在于浏览器的 JavaScript 环境中。（除非它确实存在或您曾经定义过它）因此上面的代码会抛出 "),s("code",[t._v("ReferenceError")]),t._v(" 错误。")]),t._v(" "),s("p",[t._v("解决方法是写一个带有参数的函数然后向它传递参数。像这样：")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" greeting "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'hi'")]),t._v("\nrize"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("evaluate")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("message "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("message"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" greeting"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 没问题！")]),t._v("\n")])])]),s("h3",{attrs:{id:"获取返回值"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#获取返回值","aria-hidden":"true"}},[t._v("#")]),t._v(" 获取返回值")]),t._v(" "),s("p",[t._v("为了保持 API 能可链式调用， "),s("a",{attrs:{href:"https://rize.js.org/api/classes/_index_.rize.html#evaluate",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("evaluate")]),s("OutboundLink")],1),t._v(" 方法不会返回您的函数或表达式的返回值，它只会返回当前 "),s("code",[t._v("Rize")]),t._v(" 实例，尽管您的函数或表达式会返回一些东西。")]),t._v(" "),s("p",[t._v("有一个方法 "),s("a",{attrs:{href:"https://rize.js.org/api/classes/_index_.rize.html#evaluatewithreturn",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("evaluateWithReturn")]),s("OutboundLink")],1),t._v(" 它可以让您获取返回值（经过 Promise 包装）。")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" rize "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Rize")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" byExpr "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" rize"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("evaluateWithReturn")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'document.title'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" byFunc "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" rize"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("evaluateWithReturn")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" document"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("title"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("h3",{attrs:{id:"evaluate-方法与-execute-方法的区别"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#evaluate-方法与-execute-方法的区别","aria-hidden":"true"}},[t._v("#")]),t._v(" "),s("code",[t._v("evaluate")]),t._v(" 方法与 "),s("code",[t._v("execute")]),t._v(" 方法的区别")]),t._v(" "),s("p",[t._v("TL;DR: "),s("code",[t._v("evaluate")]),t._v(" 方法中的代码会在浏览器中执行而  "),s("code",[t._v("execute")]),t._v(" 方法中的代码会在 Node.js 中执行。")]),t._v(" "),s("p",[t._v("当您使用 "),s("code",[t._v("evaluate")]),t._v(" 方法的时候，您的函数会被转换成字符串（通过调用 "),s("code",[t._v("toString")]),t._v(" 方法），参数也会被序列化。因此如果您的参数不能被序列化，将会发生错误。")]),t._v(" "),s("p",[t._v("您的函数在被转换成字符串、参数被序列化后（表达式不需要转换，因为它本来就是字符串），代码会被发送至浏览器然而交给浏览器执行。这意味着您的代码可以访问浏览器环境中的一些变量（如 "),s("code",[t._v("window")]),t._v(" 和 "),s("code",[t._v("document")]),t._v("）。")]),t._v(" "),s("p",[t._v("而 "),s("a",{attrs:{href:"https://rize.js.org/api/classes/_index_.rize.html#execute",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("execute")]),s("OutboundLink")],1),t._v(" 方法则能让你在完成上一个操作后执行一些事情。所有的代码会在 Node.js 环境中执行。例如，我们可以打日志，然后保存到磁盘中：")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" fs "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'fs'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" rize "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Rize")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nrize\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("goto")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'http://example.com'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("execute")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" fs"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("writeFileSync")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'operations.log'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'visiting...'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("p",[t._v("查看 "),s("a",{attrs:{href:"https://rize.js.org/api/classes/_index_.rize.html#execute",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("execute")]),s("OutboundLink")],1),t._v(" 方法的文档可以获取更多信息。")]),t._v(" "),s("h2",{attrs:{id:"添加标签"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#添加标签","aria-hidden":"true"}},[t._v("#")]),t._v(" 添加标签")]),t._v(" "),s("p",[t._v("您可以向页面中添加 "),s("code",[t._v("<script>")]),t._v(" 或 "),s("code",[t._v("<style>")]),t._v(" 标签，您可以理解为注入 JavaScript 或 CSS 代码。")]),t._v(" "),s("p",[t._v("如果要添加 "),s("code",[t._v("<script>")]),t._v(" 标签，请使用 "),s("a",{attrs:{href:"https://rize.js.org/api/classes/_index_.rize.html#addscripttag",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("addScriptTag")]),s("OutboundLink")],1),t._v(" 方法；如果要添加 "),s("code",[t._v("<style>")]),t._v(" 标签，请使用 "),s("a",{attrs:{href:"https://rize.js.org/api/classes/_index_.rize.html#addstyletag",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("addStyleTag")]),s("OutboundLink")],1),t._v(" 方法。")]),t._v(" "),s("p",[t._v("这两个方法有相同的函数签名。第一个参数是 "),s("code",[t._v("type")]),t._v("，它"),s("strong",[t._v("只能")]),t._v("是 "),s("code",[t._v("url")]),t._v(", "),s("code",[t._v("path")]),t._v(" 或 "),s("code",[t._v("content")]),t._v(" 三者之一。第二个参数是 "),s("code",[t._v("value")]),t._v("，具体内容取决于第一个参数。")]),t._v(" "),s("ul",[s("li",[t._v("如果第一个参数 "),s("code",[t._v("type")]),t._v(" 是 "),s("code",[t._v("url")]),t._v("，您应该给出一个远程的 JS/CSS 文件的 URL。")]),t._v(" "),s("li",[t._v("如果第一个参数 "),s("code",[t._v("type")]),t._v(" 是 "),s("code",[t._v("path")]),t._v("，您应该给出本地 JS/CSS 文件的路径。")]),t._v(" "),s("li",[t._v("如果第一个参数 "),s("code",[t._v("type")]),t._v(" 是 "),s("code",[t._v("content")]),t._v("，您应该给出有效的 JavaScript/CSS 代码。")])]),t._v(" "),s("blockquote",[s("p",[t._v("除非您手动指定使用旧版的 Chrome/Chromium，您可以随意地使用最新的 ES 特性。")])]),t._v(" "),s("h2",{attrs:{id:"多页面"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#多页面","aria-hidden":"true"}},[t._v("#")]),t._v(" 多页面")]),t._v(" "),s("p",[t._v("Rize 支持多页面（也称标签页）。")]),t._v(" "),s("p",[t._v("在使用 Rize 的多页面功能之前，您最好理解下面一些内容。当您启动浏览器之后，浏览器中会有两个页面，一个是由 puppeteer 默认创建的，另一个是由 Rize 创建的。这对于不打算使用多页面功能的人来说是很方便的。（您不必手动新建页面。）")]),t._v(" "),s("h3",{attrs:{id:"打开新页面"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#打开新页面","aria-hidden":"true"}},[t._v("#")]),t._v(" 打开新页面")]),t._v(" "),s("p",[t._v("若要打开一个新页面，请使用 "),s("a",{attrs:{href:"https://rize.js.org/api/classes/_index_.rize.html#newpage",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("newPage")]),s("OutboundLink")],1),t._v(" 方法。")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("rize"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("newPage")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("p",[s("a",{attrs:{href:"https://rize.js.org/api/classes/_index_.rize.html#newpage",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("newPage")]),s("OutboundLink")],1),t._v(" 接收两个参数（都是可选的）。第一个是 "),s("code",[t._v("name")]),t._v("，当您要切换页面的时候，您可以使用这个名称来区分不同的页面。")]),t._v(" "),s("p",[t._v("第二个参数是 "),s("code",[t._v("options")]),t._v("，有两个选项。")]),t._v(" "),s("p",[s("code",[t._v("force")]),t._v(" 选项用于当您使用已经存在的 "),s("code",[t._v("name")]),t._v(" 值的时候，可以强制替换相同名字的旧页面。如果 "),s("code",[t._v("force")]),t._v(" 为 true，当您使用一个已经存在的名字来打开新页面的时候，已有的页面会被新页面替换。否则原页面会保留，不会打开新页面。")]),t._v(" "),s("p",[s("code",[t._v("stayCurrent")]),t._v(" 选项用于当新页面打开之后是否停留在当前的旧页面。如果 "),s("code",[t._v("stayCurrent")]),t._v(" 为 true，在打开一个新的页面之后，当前的活动前面不会改变。否则在新建一个页面后，会切换到新页面。")]),t._v(" "),s("h3",{attrs:{id:"关闭页面"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#关闭页面","aria-hidden":"true"}},[t._v("#")]),t._v(" 关闭页面")]),t._v(" "),s("p",[t._v("通过调用 "),s("a",{attrs:{href:"https://rize.js.org/api/classes/_index_.rize.html#closepage",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("closePage")]),s("OutboundLink")],1),t._v(" 方法来关闭页面：")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("rize"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("closePage")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("p",[t._v("您也可以指定您想要关闭的页面的名称：")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("rize"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("closePage")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'page1'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("h3",{attrs:{id:"切换到另一个页面"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#切换到另一个页面","aria-hidden":"true"}},[t._v("#")]),t._v(" 切换到另一个页面")]),t._v(" "),s("p",[s("a",{attrs:{href:"https://rize.js.org/api/classes/_index_.rize.html#switchpage",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("switchPage")]),s("OutboundLink")],1),t._v(" 方法接收一个参数，它可以是字符串，也可以是数字。")]),t._v(" "),s("p",[t._v("如果是字符串，它表示 "),s("code",[t._v("name")]),t._v("，也就是您想要切换到的页面的名称。")]),t._v(" "),s("p",[t._v("如果是数字，它会从内部的包含所有页面的数组中按索引找出您想要的页面，然后切换到它。")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("rize"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("switchPage")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nrize"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("switchPage")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'page0'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])])},[],!1,null,null,null);a.default=n.exports}}]);